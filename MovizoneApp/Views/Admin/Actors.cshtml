@model List<MovizoneApp.Models.Actor>
@inject MovizoneApp.Services.ILocalizationService Localizer
@{
    ViewData["Title"] = Localizer.GetString("Admin", "ActorsManagement");
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<!-- main title -->
<div class="row">
    <div class="col-12">
        <div class="main__title">
            <h2>@Localizer.GetString("Common", "Actors")</h2>
            <a asp-action="CreateActor" class="main__title-link">@Localizer.GetString("Admin", "AddNewActor")</a>
        </div>
    </div>
</div>
<!-- end main title -->

<div class="row">
    <div class="col-12">
        <div class="dashbox">
            <div class="dashbox__table-wrap">
                <table class="dashbox__table">
                <thead>
                    <tr>
                        <th>@Localizer.GetString("Admin", "ID")</th>
                        <th>@Localizer.GetString("Common", "Name")</th>
                        <th>@Localizer.GetString("Actor", "BirthDate")</th>
                        <th>@Localizer.GetString("Actor", "Age")</th>
                        <th>@Localizer.GetString("Common", "Country")</th>
                        <th>@Localizer.GetString("Common", "Movies")</th>
                        <th>@Localizer.GetString("Common", "TVSeries")</th>
                        <th>@Localizer.GetString("Common", "Actions")</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var actor in Model)
                    {
                        <tr>
                            <td><div class="dashbox__table-text dashbox__table-text--grey">@actor.Id</div></td>
                            <td>
                                <div class="dashbox__table-text" style="display: flex; align-items: center; gap: 10px;">
                                    <img src="@actor.Photo" alt="@actor.Name" style="width: 40px; height: 40px; border-radius: 50%; object-fit: cover;">
                                    <strong>@actor.Name</strong>
                                </div>
                            </td>
                            <td><div class="dashbox__table-text">@(actor.BirthDate.ToString("MMM dd, yyyy"))</div></td>
                            <td><div class="dashbox__table-text">@($"{actor.Age} years")</div></td>
                            <td><div class="dashbox__table-text">@actor.Country</div></td>
                            <td>
                                <div class="dashbox__table-text">
                                    <span style="color: var(--primary-color); background: rgba(255,85,165,0.1); padding: 4px 10px; border-radius: 6px; font-size: 12px; font-weight: 600;">@actor.MovieActors.Count</span>
                                </div>
                            </td>
                            <td>
                                <div class="dashbox__table-text">
                                    <span style="color: var(--success-color); background: rgba(40,167,69,0.1); padding: 4px 10px; border-radius: 6px; font-size: 12px; font-weight: 600;">@actor.TVSeriesActors.Count</span>
                                </div>
                            </td>
                            <td>
                                <a asp-action="EditActor" asp-route-id="@actor.Id" style="display: inline-block; padding: 6px 12px; background: rgba(255,255,255,0.05); border-radius: 6px; color: var(--text-color); text-decoration: none; margin-right: 5px;">
                                    <i class="ti ti-edit"></i>
                                </a>
                                <form asp-action="DeleteActor" asp-route-id="@actor.Id" method="post" style="display: inline-block;">
                                    <button type="submit" onclick="return confirm('@Localizer.GetString("Admin", "DeleteThisActor")')"
                                            style="padding: 6px 12px; background: rgba(220,53,69,0.1); border: none; border-radius: 6px; color: var(--danger-color); cursor: pointer;">
                                        <i class="ti ti-trash"></i>
                                    </button>
                                </form>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        </div>
    </div>
</div>
